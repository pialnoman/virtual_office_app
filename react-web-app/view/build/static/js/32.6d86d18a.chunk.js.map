{"version":3,"sources":["pages/timecards/SubmittedTimecards.js","../node_modules/lodash/_baseUniq.js","../node_modules/lodash/uniqBy.js","../node_modules/lodash/_arrayIncludes.js","../node_modules/lodash/_baseIndexOf.js","../node_modules/lodash/_baseFindIndex.js","../node_modules/lodash/_baseIsNaN.js","../node_modules/lodash/_strictIndexOf.js","../node_modules/lodash/_arrayIncludesWith.js","../node_modules/lodash/_createSet.js","../node_modules/lodash/noop.js"],"names":["SubmittedTimecards","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","assignees","setAssignees","_useState3","_useState4","selectedWeekend","setselectedWeekend","_useState5","_useState6","_useState7","_useState8","headers","setheaders","_useState9","_useState10","pdfData","setPdfData","submitted","profile_details","useSelector","state","profile","data","worktypes","submitted_timecards","temp","Array","from","timecardList","user_weekly_submitted_timecards","forEach","item","idx","push","id","employee","Weekending","moment","week_end","format","Name","first_name","last_name","Total","total_hours","RHR","SIC","HOL","WFH","OTO","VAC","COM","PB","PB1","PB2","Submitted","submitted_at","concat","_useState11","_useState12","submittedTimecards","setsubmittedTimecards","weekendingList","optionlist","label","value","options","uniqBy","sort","a","b","dateA","populate_data","React","useEffect","fetchUserSubmittedTimecards","API","get","then","res","console","log","length","fetchWorkTypes","work_type_list","key","_style","width","_classes","map","work_type","title","sorter","set_headers","_exportXL","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ExcelJS","workbook","sheet","customcell","customcell1","i","_sheet$addRow","row_num","_i2","_row_num","buffer","blob","pdfTitle","day","days","todayDate","fileName","wrap","_context","prev","next","require","Workbook","addWorksheet","mergeCells","getCell","font","size","bold","alignment","horizontal","vertical","getRow","values","name","family","height","columns","addRow","_defineProperty","pCOM","nCOM","xlsx","writeBuffer","sent","Blob","type","Date","getDay","saveAs","stop","apply","arguments","_useState13","_useState14","_useState15","_useState16","_useState17","_useState18","_jsx","_Fragment","children","_jsxs","CContainer","CRow","CCol","className","md","CButton","onClick","doc","jsPDF","setFontSize","uData","elt","content","startY","head","body","text","has_permission","autoTable","save","exportPDF","CIcon","exportXL","xl","lg","CLabel","htmlFor","Select","closeMenuOnSelect","placeholder","minHeight","isClearable","isMulti","onChange","option","actionMeta","filteredtimecards","action","classNamePrefix","undefined","CDataTable","items","fields","itemsPerPage","pagination","striped","bordered","scopedSlots","end","start","subtract","toDate","empid","empName","filteredData","filter","p","date_updated","hours_total","submittedtc","index","parseFloat","hours_today","exportPdfview","assigneepdf","color","class","role","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","module","exports","array","iteratee","comparator","includes","isCommon","result","seen","set","outer","computed","seenIndex","baseIteratee","baseUniq","baseIndexOf","baseFindIndex","baseIsNaN","strictIndexOf","fromIndex","predicate","fromRight","Set","noop"],"mappings":"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","file":"static/js/32.6d86d18a.chunk.js","sourcesContent":["import {\r\n  CContainer,\r\n  CRow,\r\n  CCol,\r\n  CDataTable,\r\n  CLabel,\r\n  CButton,\r\n  CInput,\r\n} from \"@coreui/react\";\r\nimport uniqBy from \"lodash/uniqBy\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport sortBy from \"lodash/sortBy\";\r\nimport { capitalize, exportPdfview } from \"../../helper\";\r\nimport moment from \"moment\";\r\nimport \"./timeCards.css\";\r\nimport { fetchUserSubmittedTimecards } from \"../../store/slices/TimecardSlice\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { has_permission } from \"../../helper.js\";\r\nimport * as FileSaver from \"file-saver\";\r\nimport { saveAs } from \"file-saver\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { API } from \"../../Config\";\r\nimport Select from \"react-select\";\r\nimport { fetchWorkTypes } from \"../../store/slices/WorkTypeSlice\";\r\n\r\nconst SubmittedTimecards = () => {\r\n  const dispatch = useDispatch();\r\n  const [assignees, setAssignees] = useState([]);\r\n  const [selectedWeekend, setselectedWeekend] = useState();\r\n  const [totalSubmitted, settotalSubmitted] = useState();\r\n  const [headers,setheaders] = useState()\r\n  const [pdfData, setPdfData]= useState([])\r\n\r\n  let submitted = [];\r\n  const profile_details = useSelector((state) => state.profile.data);\r\n  const worktypes = useSelector((state)=> state.worktypes.data)\r\n  const submitted_timecards = useSelector((state) => {\r\n    let temp = [];\r\n\r\n    Array.from(state.timecardList.user_weekly_submitted_timecards).forEach(\r\n      (item, idx) => {\r\n        //console.log(\"weekly submitted\", item)\r\n        temp.push({\r\n          id: item.employee.id,\r\n          data: item.employee,\r\n          Weekending: moment(item.week_end).format(\"ddd, MMMM DD, YYYY\"),\r\n          Name: item.employee.first_name + \" \" + item.employee.last_name,\r\n          Total: item.total_hours,\r\n          RHR: item.RHR == null ? \"-\" : item.RHR,\r\n          SIC: item.SIC == null ? \"-\" : item.SIC,\r\n          HOL: item.HOL == null ? \"-\" : item.HOL,\r\n          WFH: item.WFH == null ? \"-\" : item.WFH,\r\n          OTO: item.OTO == null ? \"-\" : item.OTO,\r\n          VAC: item.VAC == null? \"-\" : item.VAC,\r\n          COM: item.COM == null? \"-\" : item.COM,\r\n          PB: item.PB == null? \"-\" : item.PB,\r\n          PB1: item[\"PB1\"] == null ? \"-\" : item[\"PB1\"],\r\n          PB2: item[\"PB2\"] == null ? \"-\" : item[\"PB2\"],\r\n          Submitted:\r\n            moment(item.submitted_at).format(\"ddd, MMMM DD, YYYY\") +\r\n            \" at \" +\r\n            moment(item.submitted_at).format(\"h:mm\"),\r\n        });\r\n      }\r\n    );\r\n\r\n    submitted = [...temp];\r\n    // console.log(\"submitted\", temp);\r\n    return temp;\r\n  });\r\n\r\n  const [submittedTimecards, setsubmittedTimecards] = useState([]);\r\n\r\n  const weekendingList = useSelector((state) => {\r\n    let optionlist = [];\r\n    Array.from(state.timecardList.user_weekly_submitted_timecards).forEach(\r\n      (item, idx) => {\r\n        optionlist.push({\r\n          data: item,\r\n          label: moment(item.week_end).format(\"ddd, MMMM DD, YYYY\"),\r\n          value: moment(item.week_end).format(\"ddd, MMMM DD, YYYY\"),\r\n        });\r\n      }\r\n    );\r\n    let options = uniqBy(optionlist, \"label\");\r\n    options.sort((a, b) => {\r\n      const dateA = moment(a.data.week_end);\r\n      const dateB = moment(b.data.week_end);\r\n      return dateB - dateA;\r\n    });\r\n  \r\n    return options;\r\n  });\r\n\r\n  const handleWeekendChange = (option, actionMeta) => {\r\n    setselectedWeekend(option);\r\n    let filteredtimecards = [];\r\n    if (actionMeta.action == \"select-option\") {\r\n      filteredtimecards = [];\r\n      console.log(\"select\");\r\n      for (let i = 0; i < submitted_timecards.length; i++) {\r\n        if (option.value == submitted_timecards[i].Weekending) {\r\n          filteredtimecards.push(submitted_timecards[i]);\r\n        }\r\n      }\r\n    } else if (actionMeta.action == \"clear\") {\r\n      console.log(\"clear\");\r\n      for (let i = 0; i < submitted_timecards.length; i++) {\r\n        filteredtimecards.push(submitted_timecards[i]);\r\n      }\r\n    }\r\n    console.log(\"filtered\", filteredtimecards);\r\n    setsubmittedTimecards(filteredtimecards);\r\n    setPdfData(filteredtimecards)\r\n  };\r\n\r\n  const submittedAssignees = () => {\r\n    let temp = [];\r\n    for (let i = 0; i < submittedTimecards.length; i++) {\r\n      temp.push({\r\n        name: submittedTimecards[i].Name,\r\n      });\r\n    }\r\n    temp = uniqBy(temp, \"name\");\r\n    console.log(\"len\", temp.length);\r\n    return temp.length;\r\n  };\r\n  let len = 0\r\n  const populate_data = () => {\r\n   \r\n    if (selectedWeekend == \"undefined\" || selectedWeekend == null) {\r\n      //console.log(\"len\",(submitted_timecards).length)\r\n      //len = (submitted_timecards).length\r\n      //settotalSubmitted(submitted_timecards.length)\r\n      len = uniqBy(submitted_timecards, 'Name')\r\n      //console.log(\"uniqed \", len.length)\r\n      return submitted_timecards;\r\n    } else {\r\n      //console.log(\"len\",(submittedTimecards).length)\r\n      //len = (submittedTimecards).length\r\n      //settotalSubmitted(submittedTimecards.length)\r\n      len = uniqBy(submittedTimecards, 'Name')\r\n      //console.log(\"uniqed \", len.length)\r\n      return submittedTimecards;\r\n    }\r\n    \r\n  };\r\n\r\n  const set_headers= () =>{\r\n    let work_type_list = []\r\n    work_type_list.push({\r\n      key: \"Weekending\",\r\n      _style: { width: \"15%\" },\r\n      _classes: \"font-weight-bold\",\r\n    })\r\n    work_type_list.push(\"Name\")\r\n    work_type_list.push(\"Total\")\r\n    worktypes.map((work_type,idx)=>{\r\n      work_type_list.push({\r\n        key: work_type.title,\r\n        sorter: false,\r\n      })\r\n    })\r\n    console.log(\"SETTING HEADERS\")\r\n    work_type_list.push(\"Submitted\")\r\n    setheaders(work_type_list)\r\n  };\r\n\r\n  // React.useEffect(() => {\r\n  //     //setsubmittedTimecards(submitted_timecards)\r\n  //     let temp=[]\r\n  //     if(submitted_timecards.length>0)\r\n  //     {\r\n  //       for(let i=0;i<submitted_timecards.length;i++)\r\n  //       {\r\n  //          temp.push(submitted_timecards[i])\r\n  //       }\r\n  //     }\r\n  //     setsubmittedTimecards(temp)\r\n  // }, [submitted_timecards])\r\n\r\n  React.useEffect(() => {\r\n    dispatch(fetchUserSubmittedTimecards());\r\n    \r\n    API.get(\"auth/assignee/list/\").then((res) => {\r\n      console.log(\"assignees\", res.data.data);\r\n      let temp = [];\r\n      Array.from(res.data.data).forEach((item, idx) => {\r\n        if (item.first_name != \"\") {\r\n          temp.push({\r\n            value: item.id,\r\n            label: item.first_name + \" \" + item.last_name,\r\n            data: item,\r\n          });\r\n        }\r\n      });\r\n      console.log(\"all assignees\", temp.length);\r\n      setAssignees(temp.length);\r\n    });\r\n\r\n    if(worktypes.length === 0){\r\n      dispatch(fetchWorkTypes());\r\n    }\r\n    \r\n\r\n  }, []);\r\n\r\n  React.useEffect(()=>{\r\n    if(worktypes.length>0){\r\n      set_headers()\r\n    }\r\n  },[worktypes]);\r\n\r\n  const exportPDF = () => {\r\n    \r\n    const pdfTitle =\r\n      profile_details.first_name + \"_\" + profile_details.last_name;\r\n    const unit = \"pt\";\r\n    const size = \"A4\"; // Use A1, A2, A3 or A4\r\n    const orientation = \"portrait\"; // portrait or landscape\r\n    const marginLeft = 40;\r\n    const doc = new jsPDF(orientation, unit, size);\r\n    doc.setFontSize(15);\r\n\r\n\r\n    // const headers = [\r\n    //   [\r\n    //     \"Weekending\",\r\n    //     \"Name\",\r\n    //     \"Total\",\r\n    //     \"RHR\",\r\n    //     \"SIC\",\r\n    //     \"HOL\",\r\n    //     \"PB1\",\r\n    //     \"PB2\",\r\n    //     \"WFH\",\r\n    //     \"OTO\",\r\n    //     \"VAC\",\r\n    //     \"+COM\",\r\n    //     \"-COM\",\r\n    //     \"Submitted\",\r\n    //   ],\r\n    // ];\r\n    \r\n    \r\n    \r\n    let uData = []\r\n    if (selectedWeekend == \"undefined\" || selectedWeekend == null) {\r\n      setPdfData(submitted_timecards)\r\n      console.log(\"submitted tcs\", submitted_timecards)\r\n     uData = submitted_timecards.map((elt, idx) => [\r\n        elt.Weekending,\r\n        elt.Name,\r\n        elt.Total,\r\n        elt.RHR,\r\n        elt.SIC,\r\n        elt.HOL,\r\n        elt.PB1,\r\n        elt.PB2,\r\n        elt.WFH,\r\n        elt.OTO,\r\n        elt.VAC,\r\n        elt.pCOM,\r\n        elt.nCOM,\r\n        elt.Submitted,\r\n        console.log(\"data\", elt),\r\n      ]);\r\n    }else{\r\n   uData = pdfData.map((elt, idx) => [\r\n      elt.Weekending,\r\n      elt.Name,\r\n      elt.Total,\r\n      elt.RHR,\r\n      elt.SIC,\r\n      elt.HOL,\r\n      elt.PB1,\r\n      elt.PB2,\r\n      elt.WFH,\r\n      elt.OTO,\r\n      elt.VAC,\r\n      elt.pCOM,\r\n      elt.nCOM,\r\n      elt.Submitted,\r\n      console.log(\"data\", elt),\r\n    ]);\r\n  }\r\n    let content = {\r\n      startY: 145,\r\n      head: headers,\r\n      body: uData,\r\n    };\r\n    let day = new Date();\r\n    const weekday = [\r\n      \"Sunday\",\r\n      \"Monday\",\r\n      \"Tuesday\",\r\n      \"Wednesday\",\r\n      \"Thursday\",\r\n      \"Friday\",\r\n      \"Saturday\",\r\n    ];\r\n    let days = weekday[day.getDay()];\r\n    let todayDate = moment(day).format(\"DD-MM-YYYY\");\r\n    console.log(\"days \", todayDate);\r\n    doc.text(170, 50, \"Datasoft Manufacturing & Assembly\");\r\n    doc.setFontSize(13);\r\n    doc.text(245, 75, \"Gulshan Branch\");\r\n    doc.setFontSize(11);\r\n    doc.text(42, 105, \"Submitted Time Cards\");\r\n    if (!has_permission(\"projects.add_projects\")) {\r\n      doc.text(42, 125, \"Employee Name: \" + pdfTitle);\r\n    }\r\n    doc.text(440, 360, \"Total \" + submitted.length + \" Submitted\");\r\n    doc.autoTable(content);\r\n    doc.save(pdfTitle + \"_\" + days + \"_\" + todayDate + \"_\" + \".pdf\");\r\n  };\r\n\r\n  async function exportXL() {\r\n    const ExcelJS = require(\"exceljs\");\r\n    const workbook = new ExcelJS.Workbook();\r\n    const sheet = workbook.addWorksheet(\"sheet1\");\r\n    sheet.mergeCells(\"B1:F2\");\r\n    const customcell = sheet.getCell(\"C1\");\r\n    customcell.value = \"Datasoft Manufacturing & Assembly\";\r\n    customcell.font = {\r\n      size: 15,\r\n      bold: true,\r\n    };\r\n    sheet.getCell(\"C1\").alignment = {\r\n      horizontal: \"center\",\r\n      vertical: \"center\",\r\n    };\r\n    sheet.mergeCells(\"C3:D3\");\r\n    const customcell1 = sheet.getCell(\"C3\");\r\n    customcell1.value = \"Gulshan Branch\";\r\n    customcell1.font = {\r\n      size: 13,\r\n      bold: true,\r\n    };\r\n    customcell1.alignment = {\r\n      horizontal: \"center\",\r\n      vertical: \"center\",\r\n    };\r\n    sheet.mergeCells(\"A5:B5\");\r\n    sheet.getCell(\"A5\").value = \"Submitted Timecards\";\r\n    sheet.getRow(8).values = [\r\n      \"Weekending\",\r\n      \"Name\",\r\n      \"Total\",\r\n      \"RHR\",\r\n      \"SIC\",\r\n      \"HOL\",\r\n      \"PB1\",\r\n      \"PB2\",\r\n      \"WFH\",\r\n      \"OTO\",\r\n      \"VAC\",\r\n      \"+COM\",\r\n      \"-COM\",\r\n      \"Submitted\",\r\n    ];\r\n    sheet.getRow(8).font = {\r\n      name: \"Arial Black\",\r\n      family: 3,\r\n\r\n      size: 9,\r\n    };\r\n    sheet.getRow(8).height = 20;\r\n    sheet.columns = [\r\n      { key: \"Weekending\", width: 20 },\r\n      { key: \"Name\", width: 25 },\r\n      { key: \"Total\",width: 10 },\r\n      { key: \"RHR\", width: 10 },\r\n      { key: \"SIC\", width: 10 },\r\n      { key: \"HOL\", width: 10 },\r\n      { key: \"PB1\", width: 10 },\r\n      { key: \"PB2\", width: 10 },\r\n      { key: \"WFH\", width: 10 },\r\n      { key: \"OTO\", width: 10 },\r\n      { key: \"VAC\", width: 10 },\r\n      { key: \"+COM\", width: 10 },\r\n      { key: \"-COM\", width: 10 },\r\n\r\n      { key: \"Submitted\", width: 20 },\r\n    ];\r\n    console.log(\"submitted\", submitted);\r\n    if (selectedWeekend == \"undefined\" || selectedWeekend == null) {\r\n      for (let i = 0; i < submitted_timecards.length; i++) {\r\n        sheet.addRow({\r\n          Weekending: submitted_timecards[i].Weekending,\r\n          Name: submitted_timecards[i].Name,\r\n          Total: submitted_timecards[i].Total,\r\n          RHR: submitted_timecards[i].RHR,\r\n          SIC: submitted_timecards[i].SIC,\r\n          HOL: submitted_timecards[i].HOL,\r\n          PB1: submitted_timecards[i].PB1,\r\n          PB1: submitted_timecards[i].PB2,\r\n          WFH: submitted_timecards[i].WFH,\r\n          OTO: submitted_timecards[i].OTO,\r\n          VAC: submitted_timecards[i].VAC,\r\n          pCOM: submitted_timecards[i].pCOM,\r\n          nCOM: submitted_timecards[i].nCOM,\r\n          Submitted: submitted_timecards[i].Submitted,\r\n        });\r\n      }\r\n      let row_num = submitted_timecards.length + 11;\r\n      let total = submitted_timecards.length;\r\n      if (total != 0) {\r\n        sheet.getRow(row_num).values = [\"Total Submitted =  \" + submitted_timecards.length];\r\n      }\r\n    }\r\n    else{\r\n\r\n    for (let i = 0; i < pdfData.length; i++) {\r\n      sheet.addRow({\r\n        Weekending: pdfData[i].Weekending,\r\n        Name: pdfData[i].Name,\r\n        Total: pdfData[i].Total,\r\n        RHR: pdfData[i].RHR,\r\n        SIC: pdfData[i].SIC,\r\n        HOL: pdfData[i].HOL,\r\n        PB1: pdfData[i].PB1,\r\n        PB2: pdfData[i].PB2,\r\n        WFH: pdfData[i].WFH,\r\n        OTO: pdfData[i].OTO,\r\n        VAC: pdfData[i].VAC,\r\n        pCOM: pdfData[i].pCOM,\r\n        nCOM: pdfData[i].nCOM,\r\n        Submitted: pdfData[i].Submitted,\r\n      });\r\n    }\r\n    let row_num = pdfData.length + 11;\r\n    let total = pdfData.length;\r\n    if (total != 0) {\r\n      sheet.getRow(row_num).values = [\"Total Submitted =  \" + pdfData.length];\r\n    }\r\n  }\r\n    const buffer = await workbook.xlsx.writeBuffer();\r\n    const fileType = \"application/octet-stream\";\r\n    const fileExtension = \".xlsx\";\r\n    const blob = new Blob([buffer], { type: fileType });\r\n    const pdfTitle =\r\n      profile_details.first_name + \"_\" + profile_details.last_name;\r\n    let day = new Date();\r\n    const weekday = [\r\n      \"Sunday\",\r\n      \"Monday\",\r\n      \"Tuesday\",\r\n      \"Wednesday\",\r\n      \"Thursday\",\r\n      \"Friday\",\r\n      \"Saturday\",\r\n    ];\r\n    let days = weekday[day.getDay()];\r\n    let todayDate = moment(day).format(\"DD-MM-YYYY\");\r\n\r\n    const fileName =\r\n      pdfTitle + \"_\" + days + \"_\" + todayDate + \"_\" + fileExtension;\r\n    saveAs(blob, fileName);\r\n  }\r\n  const [startDate, setStartDate] = useState(\"\");\r\n  const [endDate, setEndDate] = useState(\"\");\r\n  const [totalHrs, setTotalHrs] = useState(0);\r\n\r\n  const nextSatDay = () => {\r\n    var satday = new Date();\r\n    for (let i = 0; i < 7; i++) {\r\n      if (satday.getDay() === 6) {\r\n        console.log(\"sat\", satday);\r\n        break;\r\n      } else {\r\n        satday = moment(satday).add(1, \"day\").toDate();\r\n      }\r\n    }\r\n    satday = moment(satday).format(\"YYYY-MM-DD\");\r\n    return satday;\r\n  };\r\n  const dateRange = () => {\r\n    var sdate = new Date();\r\n    var edate = new Date();\r\n\r\n    for (let i = 0; i < 7; i++) {\r\n      if (sdate.getDay() === 0) {\r\n        console.log(\"start\", sdate);\r\n        break;\r\n      } else {\r\n        sdate = moment(sdate).subtract(1, \"day\").toDate();\r\n      }\r\n    }\r\n    console.log(\"end date\", edate);\r\n\r\n    setStartDate(moment(sdate).format(\"YYYY-MM-DD\"));\r\n    setEndDate(nextSatDay());\r\n\r\n    return {\r\n      start: moment(sdate).format(\"YYYY-MM-DD\"),\r\n      end: nextSatDay(),\r\n    };\r\n  };\r\n\r\n  const assigneepdf = (item) => {\r\n    //console.log(\"id : \", empid, \"Name \", empName);\r\n    //console.log(\"item\", item.Weekending )\r\n    let end= moment(item.Weekending).format(\"YYYY-MM-DD\")\r\n    \r\n    let start = moment(item.Weekending).subtract(6, \"day\").toDate();\r\n    start=  moment(start).format(\"YYYY-MM-DD\")\r\n    \r\n    \r\n    // const { start, end } = dateRange();\r\n    // console.log(\"start end \", start, end)\r\n    let empid = item.id\r\n    let empName=item.Name\r\n\r\n    API.get(\"wbs/user/time-card/list/\" + empid + \"/\").then((res) => {\r\n      //console.log(\"assignee tc\", res.data);\r\n      let temp = [];\r\n      Array.from(res.data.data).forEach((item, idx) => {\r\n        temp.push({ data: item });\r\n      });\r\n      console.log(\"temp\", temp)\r\n      let filteredData = temp;\r\n      filteredData = temp.filter(\r\n        (p) => p.data.date_updated >= start && p.data.date_updated <= end\r\n      );\r\n\r\n      console.log(\"filtered\", filteredData);\r\n\r\n      let hours_total = 0;\r\n      let total_not_submitted = 0;\r\n      let submittedtc = [];\r\n\r\n      for (let index = 0; index < filteredData.length; index++) {\r\n        if (filteredData[index].data.submitted == false) {\r\n          total_not_submitted++;\r\n        }\r\n        if (filteredData[index].data.submitted == true) {\r\n          //submittedtc[index] = filteredData[index]\r\n          submittedtc.push(filteredData[index]);\r\n          hours_total += parseFloat(filteredData[index].data.hours_today);\r\n        }\r\n      }\r\n      console.log(\"submittedtcs\", submittedtc);\r\n      console.log(\"total hours\", hours_total);\r\n      exportPdfview(submittedtc, empName, end, hours_total, start);\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <CContainer>\r\n        <CRow>\r\n          <CCol>\r\n            <h3 className=\"timecards-page-header mb-3\">Submitted Timecards</h3>\r\n          </CCol>\r\n          <CCol md=\"8\" id=\"tableRef\" className=\"d-flex justify-content-end\">\r\n            <h5 className=\"tiny-header--5 mt-3 mr-2\">Export </h5>\r\n            <div className=\"format-buttons mt-3 mb-3 \">\r\n              <CButton\r\n                className=\"file-format-download\"\r\n                onClick={() => {\r\n                  exportPDF();\r\n                }}\r\n              >\r\n                <CIcon name=\"cil-description\" className=\"mr-2\" /> PDF\r\n              </CButton>\r\n              <CButton\r\n                className=\"file-format-download\"\r\n                onClick={() => {\r\n                  exportXL();\r\n                }}\r\n              >\r\n                <CIcon name=\"cil-spreadsheet\" className=\"mr-2\" />\r\n                Excel\r\n              </CButton>\r\n            </div>\r\n          </CCol>\r\n        </CRow>\r\n        <CRow >\r\n          <CCol xl=\"3\" lg=\"3\" md=\"6\">\r\n            {/* <CLabel className=\"custom-label-5\" htmlFor=\"assigneeSelect\">\r\n              Company :{\" \"}\r\n              {profile_details.slc_details?.slc?.department?.company?.name}\r\n            </CLabel> */}\r\n            <div>\r\n              <CLabel className=\"custom-label-5\" htmlFor=\"assigneeSelectPM\">\r\n                Select Weekending\r\n              </CLabel>\r\n              <Select\r\n                closeMenuOnSelect={true}\r\n                placeholder={\"\"}\r\n                id=\"assigneeSelectPM\"\r\n                minHeight=\"35px\"\r\n                isClearable={true}\r\n                isMulti={false}\r\n                onChange={handleWeekendChange}\r\n                classNamePrefix=\"custom-forminput-6\"\r\n                options={weekendingList}\r\n                value={selectedWeekend}\r\n                //styles={colourStyles}\r\n              />\r\n            </div>\r\n          </CCol>\r\n        </CRow>\r\n        <CRow>\r\n          {!has_permission(\"projects.add_projects\") && (\r\n            <CCol>\r\n              {/* <CLabel className=\"custom-label-5\" htmlFor=\"assigneeSelect\">\r\n                Employee Name :{\" \"}\r\n                {capitalize(profile_details.first_name) +\r\n                  \" \" +\r\n                  capitalize(profile_details.last_name)}\r\n              </CLabel> */}\r\n            </CCol>\r\n          )}\r\n        </CRow>\r\n        <CRow className=\"mt-5\">\r\n          <CCol>\r\n            {console.log(\"HEADERS\",headers)}\r\n            {headers===undefined?null:\r\n            <CDataTable\r\n            //items={submittedTimecards.length==0? submitted_timecards:submittedTimecards}\r\n            items={populate_data()}\r\n            fields={headers}\r\n            // fields={[\r\n            //   {\r\n            //     key: \"Weekending\",\r\n            //     _style: { width: \"15%\" },\r\n            //     _classes: \"font-weight-bold\",\r\n            //   },\r\n            //   \"Name\",\r\n            //   \"Total\",\r\n            //   {\r\n            //     key: \"RHR\",\r\n            //     sorter: false,\r\n            //   },\r\n            //   {\r\n            //     key: \"SIC\",\r\n            //     sorter: false,\r\n            //   },\r\n            //   {\r\n            //     key: \"HOL\",\r\n            //     sorter: false,\r\n            //   },\r\n            //   {\r\n            //     key: \"PB1\",\r\n            //     sorter: false,\r\n            //   },\r\n            //   {\r\n            //     key: \"PB2\",\r\n            //     sorter: false,\r\n            //   },\r\n            //   {\r\n            //     key: \"WFH\",\r\n            //     sorter: false,\r\n            //   },\r\n            //   {\r\n            //     key: \"OTO\",\r\n            //     sorter: false,\r\n            //   },\r\n            //   {\r\n            //     key: \"VAC\",\r\n            //     sorter: false,\r\n            //   },\r\n            //   {\r\n            //     key: '-COM',\r\n            //     sorter: false,\r\n            //   },\r\n            //   {\r\n            //     key: \"+COM\",\r\n            //     sorter: false,\r\n            //   },\r\n            //   {\r\n            //     key: \"Submitted\",\r\n            //     sorter: false,\r\n            //   },\r\n            // ]}\r\n            itemsPerPage={10}\r\n            pagination\r\n            striped\r\n            bordered\r\n            sorter\r\n            scopedSlots={{\r\n              Name: (item) => (\r\n                <td>\r\n                  <a\r\n                    onClick={() => {\r\n                      assigneepdf(item);\r\n                      //assigneepdf(item[\"id\"], item[\"Name\"]);\r\n                    }}\r\n                    size=\"sm\"\r\n                    type=\"button\"\r\n                    color=\"primary\"\r\n                  >\r\n                    <u> {item[\"Name\"]}</u>\r\n                  </a>\r\n                </td>\r\n              ),\r\n            }}\r\n          />}\r\n            {/* <CDataTable\r\n              //items={submittedTimecards.length==0? submitted_timecards:submittedTimecards}\r\n              items={populate_data()}\r\n              fields={headers}\r\n              // fields={[\r\n              //   {\r\n              //     key: \"Weekending\",\r\n              //     _style: { width: \"15%\" },\r\n              //     _classes: \"font-weight-bold\",\r\n              //   },\r\n              //   \"Name\",\r\n              //   \"Total\",\r\n              //   {\r\n              //     key: \"RHR\",\r\n              //     sorter: false,\r\n              //   },\r\n              //   {\r\n              //     key: \"SIC\",\r\n              //     sorter: false,\r\n              //   },\r\n              //   {\r\n              //     key: \"HOL\",\r\n              //     sorter: false,\r\n              //   },\r\n              //   {\r\n              //     key: \"PB1\",\r\n              //     sorter: false,\r\n              //   },\r\n              //   {\r\n              //     key: \"PB2\",\r\n              //     sorter: false,\r\n              //   },\r\n              //   {\r\n              //     key: \"WFH\",\r\n              //     sorter: false,\r\n              //   },\r\n              //   {\r\n              //     key: \"OTO\",\r\n              //     sorter: false,\r\n              //   },\r\n              //   {\r\n              //     key: \"VAC\",\r\n              //     sorter: false,\r\n              //   },\r\n              //   {\r\n              //     key: '-COM',\r\n              //     sorter: false,\r\n              //   },\r\n              //   {\r\n              //     key: \"+COM\",\r\n              //     sorter: false,\r\n              //   },\r\n              //   {\r\n              //     key: \"Submitted\",\r\n              //     sorter: false,\r\n              //   },\r\n              // ]}\r\n              itemsPerPage={10}\r\n              pagination\r\n              striped\r\n              bordered\r\n              sorter\r\n              scopedSlots={{\r\n                Name: (item) => (\r\n                  <td>\r\n                    <a\r\n                      onClick={() => {\r\n                        assigneepdf(item);\r\n                        //assigneepdf(item[\"id\"], item[\"Name\"]);\r\n                      }}\r\n                      size=\"sm\"\r\n                      type=\"button\"\r\n                      color=\"primary\"\r\n                    >\r\n                      <u> {item[\"Name\"]}</u>\r\n                    </a>\r\n                  </td>\r\n                ),\r\n              }}\r\n            /> */}\r\n            <div class=\"alert alert-info\" role=\"alert\">\r\n              <CRow>\r\n                <CCol md=\"9\"></CCol>\r\n                {has_permission(\"projects.add_projects\") && (\r\n                <CCol md=\"3\">\r\n                  {\r\n                    <small>\r\n                      {\"   \"}\r\n                      Total{\" \"}\r\n                      <b>\r\n                        &nbsp;{uniqBy(populate_data(), 'Name').length} / {assignees} &nbsp;\r\n                      </b>\r\n                      {/* Total <b>&nbsp;{submittedAssignees()}{\" \"} / {assignees} &nbsp;</b> */}\r\n                      Employees Submitted\r\n                    </small>\r\n                  }\r\n                </CCol>\r\n                )}\r\n                {!has_permission(\"projects.add_projects\") && (\r\n                <CCol md=\"3\">\r\n                  {\r\n                    <small>\r\n                      {\"   \"}\r\n                      Total{\" \"}\r\n                      <b>\r\n                      &nbsp;{populate_data().length}{\" \"} &nbsp;\r\n                      </b>\r\n                      {/* Total <b>&nbsp;{submittedAssignees()}{\" \"} / {assignees} &nbsp;</b> */}\r\n                    Submitted\r\n                    </small>\r\n                  }\r\n                </CCol>\r\n                )}\r\n              </CRow>\r\n            </div>\r\n          </CCol>\r\n        </CRow>\r\n      </CContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SubmittedTimecards;\r\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n"],"sourceRoot":""}